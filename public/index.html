<!DOCTYPE html>
<html lang="fr" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>Client test SWAP</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    </head>
    <body>
        <h2>Saisie d'un nouvel utilisateur :</h2>
        <form id="registration" action="/src/collections/members" method="post">
            <h4>Adresse email :<h4> <input type="text" name="mail" value="">
            <h4>Mot de passe :<h4> <input type="text" name="password" value="">
            <h4>Nom :<h4> <input type="text" name="lastName" value="">
            <h4>Prénom :<h4> <input type="text" name="firstName" value="">
            <h4>Ville :<h4> <input type="text" name="city" value="">
            <h4>Adresse :<h4> <input type="text" name="address" value="">
            <h4>Téléphone :<h4> <input type="text" name="phone" value="">
            <br><br>
            <input type="submit" name="" value="Valider">
        </form>
    </body>
    <script>

    $('#id').submit(function(e) {
        let form = $(this);
        let url = form.attr('action')

        $.ajax({
            method: 'POST',
            url: url,
            data: JSON.stringify(form),
            dataType: 'json',
            contentType: 'application/json',
            headers: headerSetting
        }).done(function(msg) {
            alert( "Data inserted: " + msg );
        });

        e.preventDefault();
    });
    </script>
</html>
